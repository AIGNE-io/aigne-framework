# 順次タスク

順次タスクワークフローは、一連のタスクを特定の所定の順序で処理します。これはデジタル上の組み立てラインのように機能し、あるステップの出力が次のステップの入力となります。このパターンは、各ステップが前のステップの作業を基に構築される多段階のプロセスに最適です。

AIGNE フレームワークでは、これは `sequential` モードで実行されるように設定された `TeamAgent` によって管理されます。チーム内の各 Agent は、結果を次に渡す前に自身のタスクを完了させ、開始から終了まで論理的で秩序だった進行を保証します。

```d2
direction: down

Initial-Request: {
  label: "初期リクエスト"
  shape: oval
}

TeamAgent: {
  label: "TeamAgent (順次モード)"
  shape: rectangle
  style: {
    stroke-dash: 2
  }

  Agent-1: {
    label: "Agent 1"
    shape: rectangle
  }

  Agent-2: {
    label: "Agent 2"
    shape: rectangle
  }

  Final-Agent: {
    label: "最終 Agent"
    shape: rectangle
  }
}

Final-Result: {
  label: "最終結果"
  shape: oval
}

Initial-Request -> TeamAgent.Agent-1: "1. 初期入力"
TeamAgent.Agent-1 -> TeamAgent.Agent-2: "2. 出力1 + 初期入力"
TeamAgent.Agent-2 -> TeamAgent.Final-Agent: "3. 出力2 + 前の入力"
TeamAgent.Final-Agent -> Final-Result: "4. 最終出力"

```

## 仕組み

リクエストがワークフローに入るところを想像してみてください。

1.  シーケンスの最初の Agent が初期入力を受け取り、処理します。
2.  完了すると、その出力は元の入力と結合されます。
3.  この結合された結果は、シーケンスの2番目の Agent に渡されます。
4.  この引き渡しプロセスは、最終 Agent がタスクを完了するまで続きます。
5.  最後の Agent からの出力が、ワークフロー全体の最終結果となります。

これにより、各 Agent は先行するすべての Agent によって行われた作業の完全なコンテキストを持つことが保証され、複雑で洗練されたパイプラインの作成が可能になります。

## 一般的なユースケース

順次ワークフローは、構造化された段階的なアプローチを必要とするタスクに非常に効果的です。

-   **コンテンツ生成パイプライン**: 最初の Agent がトピックのブレインストーミングを行い、2番目の Agent が下書きを書き、3番目の Agent が校正し、最後の Agent が公開用にフォーマットします。
-   **データ処理 (ETL)**: ある Agent がソースからデータを抽出し、別の Agent がそれを標準化された形式に変換し、3番目の Agent がデータベースにロードします。
-   **顧客からの問い合わせのエスカレーション**: 最前線の Agent が基本的な顧客の質問に答えます。問題が複雑な場合は、会話履歴を専門のテクニカルサポート Agent に渡して解決を依頼します。
-   **レポート生成**: ある Agent が生データを収集し、2番目の Agent がそれを分析して主要なインサイトを生成し、3番目の Agent がその結果をフォーマットされたレポートにまとめます。

## まとめ

順次タスクワークフローは、複雑な多段階プロセスを自動化するための信頼性が高く構造化された方法を提供します。Agent を連鎖させることで、操作の順序が望ましい結果を達成するために重要となる、強力で一貫性のある自動化パイプラインを構築できます。

同時に実行できるタスクについては、効率を向上させるために[並列タスク](./user-guide-common-workflows-parallel-tasks.md)ワークフローを検討してください。