# Getting Started with AIGNE Framework

Welcome to the AIGNE Framework! This guide is designed to help you get your first AI application up and running in under 30 minutes. We will walk through setting up your environment, installing the necessary packages, and creating a simple AI agent.

This guide is for developers who want to integrate AIGNE into their projects. We'll focus on code-first, copy-paste-ready examples to get you started as quickly as possible.

## Prerequisites

Before you begin, ensure you have the following installed on your system:

*   **Node.js**: AIGNE Framework requires Node.js version 20.0 or higher.

You can verify your Node.js version by running the following command in your terminal:

```bash
node -v
```

## 1. Installation

First, create a new project directory and initialize a Node.js project:

```bash
mkdir aigne-quickstart
cd aigne-quickstart
npm init -y
```

Now, you can install the AIGNE core package and the OpenAI model provider using your preferred package manager (npm, yarn, or pnpm).

<tabs>
<tab-item label="npm">

```bash
npm install @aigne/core @aigne/openai dotenv
```

</tab-item>
<tab-item label="yarn">

```bash
yarn add @aigne/core @aigne/openai dotenv
```

</tab-item>
<tab-item label="pnpm">

```bash
pnpm add @aigne/core @aigne/openai dotenv
```

</tab-item>
</tabs>

## 2. Setting Up Your First AI Agent

With the framework installed, let's create your first AI application. This example will use the OpenAI API to power our agent, so you will need an OpenAI API key.

### a. Configure Environment Variables

It's best practice to manage API keys using environment variables. Create a file named `.env` in your project's root directory and add your OpenAI API key to it:

```bash
# .env
OPENAI_API_KEY="your_openai_api_key_here"
```

We've already installed the `dotenv` package, which will load this variable into our application's environment.

### b. Create the Application File

Create a file named `index.js` and add the following code. This script will initialize the framework, define a simple agent, and send it a prompt.

```javascript
// index.js
import { AIAgent, AIGNE } from "@aigne/core";
import { OpenAIChatModel } from "@aigne/openai";
import "dotenv/config";

// 1. Create an AI model instance
const model = new OpenAIChatModel({
  apiKey: process.env.OPENAI_API_KEY,
  model: "gpt-4-turbo",
});

// 2. Create an AI agent with instructions
const agent = AIAgent.from({
  name: "Assistant",
  instructions: "You are a helpful assistant who is an expert in creative writing.",
});

// 3. Initialize the AIGNE execution engine
const aigne = new AIGNE({ model });

// 4. Define an async function to run the agent
async function main() {
  // Use the AIGNE engine to invoke the agent
  const userAgent = await aigne.invoke(agent);

  // Send a message to the agent and get a response
  const response = await userAgent.invoke(
    "Hello, can you help me write a short poem about the sunrise?",
  );
  
  console.log(response);
}

// 5. Run the application
main();
```

### c. Code Breakdown

Let's break down the `index.js` file step-by-step:

1.  **Model Initialization**: We create an instance of `OpenAIChatModel`, passing our API key from the environment variables. This object is responsible for communicating with the OpenAI API.
2.  **Agent Creation**: We define an `AIAgent`. The agent has a `name` and `instructions` that tell the AI model how to behave. In this case, it's a helpful assistant specializing in creative writing.
3.  **Engine Initialization**: The `AIGNE` class is the main execution engine. It takes the `model` as a parameter and manages the communication between different components.
4.  **Agent Invocation**: We use `aigne.invoke(agent)` to prepare the agent for interaction. Then, `userAgent.invoke(...)` sends our prompt to the agent and waits for a response.
5.  **Execution**: The `main` function is called to run the entire process.

### d. Run the Application

Execute the file from your terminal. Make sure your `package.json` includes `"type": "module"` to use ES module syntax.

```bash
node index.js
```

You should see a creative poem about the sunrise printed in your console, generated by the AI agent.

## Core Concepts Interaction

The "Getting Started" example demonstrates the fundamental workflow of the AIGNE Framework. A user's prompt is processed through the AIGNE engine, which leverages a defined agent and an underlying AI model to generate a final response.

<d2>
direction: down

User-Prompt: {
  label: "User Prompt\n'write a poem...'"
  shape: rectangle
}

AIGNE-Engine: {
  label: "AIGNE Engine"
  shape: rectangle
}

AIAgent: {
  label: "AIAgent\n(Instructions)"
  shape: rectangle
}

AI-Model: {
  label: "AI Model\n(e.g., OpenAIChatModel)"
  shape: rectangle
}

OpenAI-API: {
  label: "External LLM API\n(e.g., OpenAI)"
  shape: cylinder
}

Final-Response: {
  label: "Final Response\n(Generated Poem)"
  shape: rectangle
}

User-Prompt -> AIGNE-Engine: "1. Input"
AIAgent -> AIGNE-Engine: "2. Combines with"
AIGNE-Engine -> AI-Model: "3. Passes combined prompt"
AI-Model -> OpenAI-API: "4. Makes API call"
OpenAI-API -> AI-Model: "5. Receives result"
AI-Model -> AIGNE-Engine: "6. Returns result"
AIGNE-Engine -> Final-Response: "7. Output"

</d2>